  <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Deni Beatz - Beat for price that fit your budget</title>
          <link rel="stylesheet" href="css/product.css">
          <script src="./payment.js"></script>
          
          <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet">
          <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
        </head>
    <body>
            <style>
              div .nav-links {margin-left: 30px;}
            </style>
        <header>
    <!--Nav-->
    <div class="nav container">
      <a href=""><img src="./images/circled logo.png" alt="" style="width: 40px;"></a>
      <div class="nav-links">
        <a href="indexPage.html">Home</a>
        <a href="shop.html">Shop</a>
        <a href="about.html">ABOUT</a>
        <a href="contact.html">Contact</a>
      </div>
      
      <!--Cart Icon-->
      <i class="bx bx-shopping-bag" id="cart-icon"></i>
      <div class="notification" id="cart-notification">0</div>
      <!-- Cart -->
      <div class="cart">
        <h2 class="cart-title">Your Cart</h2>
        <!--Content-->
        <div class="cart-content">
          <div class="cart-content">
            
          </div>
        </div>
        <!--Total-->
        <div class="total">
          <div class="total-title">Total</div>
          <div class="total-price">$0</div>
        </div>
        <!--Buy Button-->
        <button type="button" class="btn-buy">Continue to purchase</button>
        <!--Cart Close-->
        <i class="bx bx-x" id="close-cart"></i>
  
      </div>
    </div>
  </header>

            <section id="prodetails" class="section-p1">
              <div class="productcontainer" id="enjoy">
                  <div class="single-pro-image">
                    <img src="./images/enjoy.jpg" width="100%" id="product-image" class="product-img"></img>
                  </div> <!--Image resource cant be found - I should go to folder above server and under client directory , because all images and audios are in data folder , root folder is client folder-->
                  
                  <div class="single-pro-details">
                    <h4 class="product-title" id="title">Enjoy</h4>
                    <h2 id="price" class="price">$30</h2>
                    <h3>Select Licence</h3>
                    <select id="select" class="licence">
                      <option>MP3</option>
                      <option>Tagged Un-Mastered Mp3</option>
                      <option>Un-Tagged Un-Mastered Wav</option>
                      <option>Stems</option>
                      <option>Exclusive</option>
                    </select>
      
                      <script>
                        let select = document.getElementById('select');
                        let price = document.getElementById('price');
      
                        // Prices
                        let prices = {
                          "MP3": '$20',
                          "Tagged Un-Mastered Mp3": '$27',
                          "Un-Tagged Un-Mastered Wav": '$30',
                          "Stems": '$120',
                          "Exclusive": '$170'
                        }
      
                        // When the value of select changes, this event listener fires and changes the text content of price to the coresponding value from the prices object
                        select.addEventListener('change', () => {
                          price.textContent = prices[select.value];
                        });
                      </script>
                      <button class="add-cart">Add To Cart <i class='bx bx-cart-add add-cart'></i></button>
                      <h4>Product Details</h4>
                      <span>Lil Tjay x Trap Type Beat - "Enjoy" in key D# Minor and 160 BPM,It has vibe of Lil Tjay , Pop Smoke and more , Prices are great for this type of beat;Tagged Mastered MP3 for $25,$27 for Tagged Unmastered Wav,$30 for Untagged unmastered Wav,$70 for Stems and $120 for Exlusive</span>
                  </div>
                  <div id="audio">
                    <audio controls style="width:100%;" id="audio-clip">
                      <source src="./MP3 FOR NOPROFIT/1Beat Preview.mp3" type="audio/mp3">
                  </audio>                  
                  </div>
                </section> 

                <script>
                  const addToCartButton = document.querySelector('.add-cart');
                
                  addToCartButton.addEventListener('click', () => {
                    // Step 1: Retrieve the necessary information
                    const productTitle = document.querySelector('#title').textContent;
                    const productPrice = document.querySelector('#price').textContent;
                    const selectLicense = document.getElementById('select').value;
                    // Image - not used variable
                    // Audio - not used variable
                
                    // Step 2: Create the payload to send to the server
                    const payload = {
                      id: generateID(), // New line: Add an ID to the payload
                      title: productTitle,
                      price: productPrice,
                      license: selectLicense,
                      // Image
                      // Audio
                    };
                
                    // Step 3: Make an AJAX request to the server endpoint
                    fetch('/add-to-cart', {
                      method: 'POST',
                      headers: {
                        'Content-Type': 'application/json'
                      },
                      body: JSON.stringify(payload)
                    })
                      .then(response => {
                        if (response.ok) {
                          // Handle successful response
                          console.log(`Item added to cart with ID: ${payload.id}`);
                        } else {
                          // Handle error response
                          console.error('Failed to add item to cart');
                        }
                      })
                      .catch(error => {
                        // Handle network error
                        console.error('Network error', error);
                      });
                  });
                
                  function generateID() {
                    const characters = 'abcdefghijklmnopqrstuvwxyz0123456789dbwe';
                    let id = '';
                    for (let i = 0; i < 8; i++) {
                      const randomIndex = Math.floor(Math.random() * characters.length);
                      id += characters[randomIndex];
                    }
                    return id;
                  }
                </script>                

                <!--When once press on add to cart it says 'alredy added' but also add item to cart,after clicking on continueButton it goes to checkout page but display 2 divs instead of 1-->
<!--
          <section id="product1" class="section-p1"> <!--You May Like this also
            <h2>You may Like this also</h2>
            <p>New Beats that can fit you and your budget</p>
            <div class="pro-container">
              <div class="pro">
                <a href="sproduct.html">
                <img src="images/Cover Arts/High better.png" href='sproduct.html' alt="">
                <div class="des">
                  <span>Trap Beats</span>
                  <h5>Lil Mosey type beat - "High"</h5>
                  <div class="star">
                    <box-icon type='solid' name='star'></box-icon>
                    <box-icon type='solid' name='star'></box-icon>
                    <box-icon type='solid' name='star'></box-icon>
                    <box-icon type='solid' name='star'></box-icon>
                    <box-icon type='solid' name='star'></box-icon>
                  </div>
                </a>
                  <h4>$20</h4>
                </div>
                <a href="#"><box-icon type='solid' name='shopping-bag'></box-icon></a>  
              </div>
            </section>
          -->
            <section id="newsletter" class="newsletter section-p1 section-m1">
              <link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">
              
              <div class="sib-form" style="text-align: center;
                       background-color: #EFF2F7;">
                <div id="sib-form-container" class="sib-form-container">
                  <div id="sib-container" class="sib-container--large sib-container--vertical" style="text-align:center; background-color:rgba(255,255,255,1); max-width:540px; border-radius:3px; border-width:1px; border-color:#C0CCD9; border-style:solid;">
                    <form id="sib-form" method="POST" action="https://505eab42.sibforms.com/serve/MUIEALuGpqYXQ1RZLXDKjoWc0JHBh-hyzR72ZJPjucDSyq0GSBfDK3S8m3l5K40urPbHrWr5-3A7YJHnZ0SFMlGiVT_hZN7ybdMtAJnC8Dc6WEJFjKYy0jVq1dGX9YHBI30IQf51h19D5NcEQFyhMF1VvSuZX_bpNVn3JMJKHt3YJpypu-lXwIb2d-KuYfLdqwTCNHNiEGbsubQW" target="_blank">
                      <div style="padding: 8px 0;">
                        <div class="sib-form-block" style="font-size:32px; text-align:left; font-weight:700; font-family:&quot;Helvetica&quot;, sans-serif; color:#3C4858; background-color:transparent; text-align:left">
                          <p>Deni Beatz's Newsletter</p>
                        </div>
                      </div>
                      <div style="padding: 8px 0;">
                        <div class="sib-form-block" style="font-size:16px; text-align:left; font-family:&quot;Helvetica&quot;, sans-serif; color:#3C4858; background-color:transparent; text-align:left">
                          <div class="sib-text-form-block">
                            <p>Subscribe to my newsletter and stay updated.</p>
                          </div>
                        </div>
                      </div>
                      <div style="padding: 8px 0;">
                        <div class="sib-input sib-form-block">
                          <div class="form__entry entry_block">
                            <div class="form__label-row ">
                              <label class="entry__label" style="font-weight: 700; text-align:left; font-size:16px; text-align:left; font-weight:700; font-family:&quot;Helvetica&quot;, sans-serif; color:#3c4858;" for="FIRSTNAME" data-required="*">Enter your NAME</label>
              
                              <div class="entry__field">
                                <input class="input " maxlength="200" type="text" id="FIRSTNAME" name="FIRSTNAME" autocomplete="off" placeholder="FIRSTNAME" data-required="true" required />
                              </div>
                            </div>
              
                            <label class="entry__error entry__error--primary" style="font-size:16px; text-align:left; font-family:&quot;Helvetica&quot;, sans-serif; color:#661d1d; background-color:#ffeded; border-radius:3px; border-color:#ff4949;">
                            </label>
                            <label class="entry__specification" style="font-size:12px; text-align:left; font-family:&quot;Helvetica&quot;, sans-serif; color:#8390A4; text-align:left">
                              Customize this optional help text before publishing your form.
                            </label>
                          </div>
                        </div>
                      </div>
                      <div style="padding: 8px 0;">
                        <div class="sib-input sib-form-block">
                          <div class="form__entry entry_block">
                            <div class="form__label-row ">
                              <label class="entry__label" style="font-weight: 700; text-align:left; font-size:16px; text-align:left; font-weight:700; font-family:&quot;Helvetica&quot;, sans-serif; color:#3c4858;" for="EMAIL" data-required="*">Enter your email address to subscribe</label>
              
                              <div class="entry__field">
                                <input class="input " type="text" id="EMAIL" name="EMAIL" autocomplete="off" placeholder="EMAIL" data-required="true" required />
                              </div>
                            </div>
              
                            <label class="entry__error entry__error--primary" style="font-size:16px; text-align:left; font-family:&quot;Helvetica&quot;, sans-serif; color:#661d1d; background-color:#ffeded; border-radius:3px; border-color:#ff4949;">
                            </label>
                            <label class="entry__specification" style="font-size:12px; text-align:left; font-family:&quot;Helvetica&quot;, sans-serif; color:#8390A4; text-align:left">
                              Provide your email address to subscribe. For e.g abc@xyz.com
                            </label>
                          </div>
                        </div>
                      </div>
                      <div style="padding: 8px 0;">
                        <div class="sib-form-block" style="text-align: left">
                          <button class="sib-form-block__button sib-form-block__button-with-loader" style="font-size:16px; text-align:left; font-weight:700; font-family:&quot;Futura&quot;, sans-serif; color:#FFFFFF; background-color:#1364df; border-radius:3px; border-width:0px;" form="sib-form" type="submit">
                            <svg class="icon clickable__icon progress-indicator__icon sib-hide-loader-icon" viewBox="0 0 512 512">
                              <path d="M460.116 373.846l-20.823-12.022c-5.541-3.199-7.54-10.159-4.663-15.874 30.137-59.886 28.343-131.652-5.386-189.946-33.641-58.394-94.896-95.833-161.827-99.676C261.028 55.961 256 50.751 256 44.352V20.309c0-6.904 5.808-12.337 12.703-11.982 83.556 4.306 160.163 50.864 202.11 123.677 42.063 72.696 44.079 162.316 6.031 236.832-3.14 6.148-10.75 8.461-16.728 5.01z" />
                            </svg>
                            SUBSCRIBE
                          </button>
                        </div>
                      </div>
                      <input type="text" name="email_address_check" value="" class="input--hidden">
                      <input type="hidden" name="locale" value="en">
                      <input type="hidden" name="html_type" value="simple">
                    </form>
                  </div>
                </div>
              </div>
                  </section>
      
          <footer class="section-p1"> <!--Footer-->
            <div class="col">
              <h4>Contact</h4>
              <p><strong>E-Mail:</strong> bussinessfordenibeatz@gmail.com</p>
              <div class="follow">
                <h4 class="foter-follow">Follow me</h4>
                <div class="icon" size="30px">
                  <a href="https://www.youtube.com/channel/UCesqkS84NvfWlzdk7XA8eAA?sub_confirmation=1" target=_blank><ion-icon name="logo-youtube"></ion-icon></a>
                  <a href="https://www.instagram.com/prodby.denibeatz/" target=_blank><ion-icon name="logo-instagram"></ion-icon></a>
                  <a href="https://twitter.com/BeatzDeni" target=_blank><ion-icon name="logo-twitter"></ion-icon></a>
                  <a href="https://www.facebook.com/profile.php?id=100077436686693" target=_blank><ion-icon name="logo-facebook"></ion-icon></a>
                </div>
                <img class="footer-logo" src="img/logo.jpg" alt="">
              </div>
            </div>
      
            <div class="col">
              <h4>About</h4>
              <a href="#">About us</a>
              <a href="">Safety</a>
              <a href="">Delivery</a>
            </div>
      
            <div class="payments">
              <img class="payment-gateways" src="images/card_img.png" alt="">
            </div>
      
            <div class="copyright">
              <p>© 2022, Deni Beatz Store Website</p>
            </div>
          </footer>
      
          <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
          <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
      
          <script src="javacart.js"></script>
          <script src="checkout.js"></script>
    </body>
      </html> 